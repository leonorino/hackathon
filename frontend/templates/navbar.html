<nav id="navBar" class="fixed z-50 w-full h-15 bg-white border border-gray-200 rounded-full bottom-4 left-0 right-0 shadow-xl">
    <div class="grid h-full grid-cols-5 mx-auto px-4 relative">
        <div class="h-full"></div>

        <button type="button" id="tableBtn" class="inline-flex flex-col items-center justify-center h-full hover:bg-gray-100 group relative z-10">
            <svg class="w-10 h-10 mb-1 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
            </svg>
            <span class="sr-only">Таблица</span>
        </button>

        <button type="button" id="chartBtn" class="inline-flex flex-col items-center justify-center h-full group relative z-10 active-nav">
            <div class="bg-blue-500 rounded-full p-2">
                <svg class="w-10 h-10 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
            </div>
            <span class="sr-only">График</span>
        </button>

        <button type="button" id="calcBtn" class="inline-flex flex-col items-center justify-center h-full hover:bg-gray-100 group relative z-10">
            <svg class="w-10 h-10 mb-1 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
            </svg>
            <span class="sr-only">Калькулятор</span>
        </button>

        <div class="h-full"></div>

    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        setupNavigation();
    });

    function setupNavigation() {
        const tableBtn = document.getElementById('tableBtn');
        const chartBtn = document.getElementById('chartBtn');
        const calcBtn = document.getElementById('calcBtn');

        const chartsContainer = document.querySelector('.col-span-2');

        if (tableBtn) {
            tableBtn.addEventListener('click', function() {
                setActiveButton('table');
                if (chartsContainer) {
                    chartsContainer.style.display = 'grid';
                }
            });
        }

        if (chartBtn) {
            chartBtn.addEventListener('click', function() {
                setActiveButton('chart');
                if (chartsContainer) {
                    chartsContainer.style.display = 'grid';
                }
            });
        }

        if (calcBtn) {
            calcBtn.addEventListener('click', function() {
                setActiveButton('calc');
                if (chartsContainer) {
                    chartsContainer.style.display = 'grid';
                }
            });
        }
    }

    function setActiveButton(activeButton) {
        const tableBtn = document.getElementById('tableBtn');
        const chartBtn = document.getElementById('chartBtn');
        const calcBtn = document.getElementById('calcBtn');

        [tableBtn, chartBtn, calcBtn].forEach(btn => {
            if (btn) {
                btn.classList.remove('active-nav');
                btn.querySelector('div')?.classList.remove('bg-blue-500');
                btn.querySelector('svg')?.classList.remove('text-white');
                btn.querySelector('div')?.classList.add('bg-transparent');
                btn.querySelector('svg')?.classList.add('text-gray-500');
            }
        });

        const activeBtn = document.getElementById(`${activeButton}Btn`);
        if (activeBtn) {
            activeBtn.classList.add('active-nav');
            const activeDiv = activeBtn.querySelector('div');
            if (activeDiv) {
                activeDiv.classList.remove('bg-transparent');
                activeDiv.classList.add('bg-blue-500');
            }
            const activeSvg = activeBtn.querySelector('svg');
            if (activeSvg) {
                activeSvg.classList.remove('text-gray-500');
                activeSvg.classList.add('text-white');
            }
        }
    }
</script>
